$referenced_components:
  promptnode2:
    branches:
      - next
    component_type: LlmNode
    description: null
    id: promptnode2
    inputs:
      - title: x
        type: string
    llm_config:
      component_type: VllmConfig
      default_generation_parameters: null
      description: null
      id: vllm
      metadata: { }
      model_id: agi_model1
      name: agi1
      url: http://some.where
    metadata: { }
    name: prompt node
    outputs:
      - description: Raw text generated by the LLM
        title: generated_text
        type: string
    prompt_template: 'Do {{x}}:'
  complex_flow_node:
    branches:
    - next
    component_type: FlowNode
    description: null
    id: complex_flow_node
    inputs: []
    metadata: {}
    name: Complex Flow node
    outputs: []
    subflow:
      $referenced_components:
        START_NODE:
          branches:
          - next
          component_type: StartNode
          description: null
          id: START_NODE
          inputs: []
          metadata: {}
          name: start_node
          outputs: []
        end_node:
          branch_name: next
          branches: []
          component_type: EndNode
          description: null
          id: end_node
          inputs: []
          metadata: {}
          name: end node
          outputs: []
      component_type: Flow
      control_flow_connections:
      - component_type: ControlFlowEdge
        description: null
        from_branch: null
        from_node:
          $component_ref: START_NODE
        id: starttocomplex
        metadata: {}
        name: start->complex
        to_node:
          $component_ref: promptnode2
      - component_type: ControlFlowEdge
        description: null
        from_branch: null
        from_node:
          $component_ref: promptnode2
        id: complextoend
        metadata: {}
        name: complex->end
        to_node:
          $component_ref: end_node
      data_flow_connections: []
      description: null
      id: complex_flow
      inputs: []
      metadata: {}
      name: Complex Flow
      nodes:
      - $component_ref: START_NODE
      - $component_ref: promptnode2
      - $component_ref: end_node
      outputs: []
      start_node:
        $component_ref: START_NODE
  top_level_end_node:
    branch_name: next
    branches: []
    component_type: EndNode
    description: null
    id: top_level_end_node
    inputs: []
    metadata: {}
    name: end
    outputs: []
  top_level_start_node:
    branches:
    - next
    component_type: StartNode
    description: null
    id: top_level_start_node
    inputs: []
    metadata: {}
    name: start
    outputs: []
component_type: Flow
control_flow_connections:
- component_type: ControlFlowEdge
  description: null
  from_branch: null
  from_node:
    $component_ref: top_level_start_node
  id: start_to_complexflownode
  metadata: {}
  name: start to Complex Flow node
  to_node:
    $component_ref: promptnode2
- component_type: ControlFlowEdge
  description: null
  from_branch: null
  from_node:
    $component_ref: complex_flow_node
  id: complexflownode_to_end
  metadata: {}
  name: Complex Flow node to end
  to_node:
    $component_ref: top_level_end_node
- component_type: ControlFlowEdge
  description: null
  from_branch: null
  from_node:
    $component_ref: promptnode2
  id: complextoendouter
  metadata: {}
  name: complex->end
  to_node:
    $component_ref: complex_flow_node
data_flow_connections: []
description: null
id: complex_main_agent_flow
inputs: []
metadata: {}
name: Complex Agent flow
nodes:
- $component_ref: top_level_start_node
- $component_ref: complex_flow_node
- $component_ref: promptnode2
- $component_ref: top_level_end_node
outputs: []
start_node:
  $component_ref: top_level_start_node
agentspec_version: 25.4.1
