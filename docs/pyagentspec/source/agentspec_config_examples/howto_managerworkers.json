{
    "component_type": "ManagerWorkers",
    "id": "4d3a0013-284f-4ec9-82e2-6e081eca7e39",
    "name": "managerworkers",
    "description": null,
    "metadata": {},
    "inputs": [],
    "outputs": [],
    "group_manager": {
        "component_type": "Agent",
        "id": "d78cbb31-9961-4f1a-ab63-75bed2920547",
        "name": "CustomerServiceManager",
        "description": "Acts as the primary contact point for customer inquiries, analyzes the request, routes tasks to specialized agents (Refund Specialist, Satisfaction Surveyor), and ensures resolution.",
        "metadata": {},
        "inputs": [
            {
                "title": "customer_id",
                "type": "string"
            },
            {
                "title": "company_policy_info",
                "type": "string"
            }
        ],
        "outputs": [],
        "llm_config": {
            "$component_ref": "2154580d-d991-4df9-9888-e4b69eea6922"
        },
        "system_prompt": "You are a Customer Service Manager agent tasked with handling incoming customer interactions and orchestrating the resolution process efficiently.\n\n# Instructions\n- Greet the customer politely and acknowledge their message.\n- Analyze the customer's message to understand their core need (e.g., refund request, general query, feedback).\n- Answer common informational questions (e.g., about shipping times, return policy basics) directly if you have the knowledge, before delegating.\n- If the request is clearly about a refund, gather necessary details (like Order ID) if missing, and then assign the task to the 'RefundSpecialist' agent. Provide all relevant context.\n- If the interaction seems successfully concluded (e.g., refund processed, query answered) and requesting feedback is appropriate, assign the task to the 'SatisfactionSurveyor' agent. Provide customer context.\n- For general queries you cannot handle directly and that don't fit the specialist agents, state your limitations clearly and politely.\n- Await responses or status updates from specialist agents you have assigned to.\n- Summarize the final outcome or confirmation for the customer based on specialist agent reports.\n- Maintain a helpful, empathetic, and professional tone throughout the interaction.\n\n# Additional Context\nCustomer ID: {{customer_id}}\nCompany policies: {{company_policy_info}}",
        "tools": [],
        "toolboxes": [],
        "human_in_the_loop": true
    },
    "workers": [
        {
            "component_type": "Agent",
            "id": "e455c3c6-bded-454c-8315-559c3e617ae1",
            "name": "RefundSpecialist",
            "description": "Specializes in processing customer refund requests by verifying eligibility and executing the refund transaction using available tools.",
            "metadata": {},
            "inputs": [],
            "outputs": [],
            "llm_config": {
                "$component_ref": "2154580d-d991-4df9-9888-e4b69eea6922"
            },
            "system_prompt": "You are a Refund Specialist agent whose objective is to process customer refund requests accurately and efficiently based on company policy.\n\n# Instructions\n- Receive the refund request details (e.g., order ID, customer ID, reason) from the 'CustomerServiceManager'.\n- Use the `check_refund_eligibility` tool to verify if the request meets the refund policy criteria using the provided order and customer IDs.\n- If the check indicates eligibility, determine the correct refund amount (up to the maximum allowed from the eligibility check).\n- If eligible, use the `process_refund` tool to execute the refund for the determined amount, providing order ID and reason.\n- If ineligible based on the check, clearly note the reason provided by the tool.\n- Report the final outcome (e.g., \"Refund processed successfully, Refund ID: [ID], Amount: [Amount]\", or \"Refund denied: [Reason from eligibility check]\") back to the 'CustomerServiceManager'.\n- Do not engage in general conversation; focus solely on the refund process.",
            "tools": [
                {
                    "component_type": "ServerTool",
                    "id": "ce0731ff-1dc3-4832-bcae-d5209f2f17bd",
                    "name": "Check refund eligibility",
                    "description": "Checks if a given order is eligible for a refund based on company policy.",
                    "metadata": {},
                    "inputs": [
                        {
                            "title": "order_id",
                            "type": "string"
                        },
                        {
                            "title": "customer_id",
                            "type": "string"
                        }
                    ],
                    "outputs": [
                        {
                            "title": "refund_eligibility",
                            "additionalProperties": {
                                "anyOf": [
                                    {
                                        "type": "boolean"
                                    },
                                    {
                                        "type": "number"
                                    },
                                    {
                                        "type": "string"
                                    }
                                ]
                            },
                            "properties": {},
                            "type": "object"
                        }
                    ]
                },
                {
                    "component_type": "ServerTool",
                    "id": "cfb441a2-647d-45ce-8a46-f7773d17dd85",
                    "name": "Process refund",
                    "description": "Processes a refund for a specific order and amount.",
                    "metadata": {},
                    "inputs": [
                        {
                            "title": "order_id",
                            "type": "string"
                        },
                        {
                            "title": "amount",
                            "type": "number"
                        },
                        {
                            "title": "reason",
                            "type": "string"
                        }
                    ],
                    "outputs": [
                        {
                            "title": "refund_status",
                            "additionalProperties": {
                                "anyOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "type": "boolean"
                                    }
                                ]
                            },
                            "properties": {},
                            "type": "object"
                        }
                    ]
                }
            ],
            "toolboxes": [],
            "human_in_the_loop": true
        },
        {
            "component_type": "Agent",
            "id": "c048a72d-da2a-4288-b3c6-d5af7c1b5bd6",
            "name": "SatisfactionSurveyor",
            "description": "Conducts brief surveys to gather feedback on customer satisfaction following service interactions.",
            "metadata": {},
            "inputs": [],
            "outputs": [],
            "llm_config": {
                "$component_ref": "2154580d-d991-4df9-9888-e4b69eea6922"
            },
            "system_prompt": "You are a Satisfaction Surveyor agent tasked with collecting customer feedback about their recent service experience in a friendly manner.\n\n# Instructions\n- Receive the trigger to conduct a survey from the 'CustomerServiceManager', including context like the customer ID and the nature of the interaction if provided.\n- Politely ask the customer if they have a moment to provide feedback on their recent interaction.\n- If the customer agrees, ask 1-2 concise questions about their satisfaction (e.g., \"On a scale of 1 to 5, where 5 is highly satisfied, how satisfied were you with the resolution provided today?\", \"Is there anything else you'd like to share about your experience?\").\n- Use the `record_survey_response` tool to log the customer's feedback, including the satisfaction score and any comments provided. Ensure you pass the correct customer ID.\n- If the customer declines to participate, thank them for their time anyway. Do not pressure them. Use the `record_survey_response` tool to log the declination if possible (e.g., score=None, comments=\"Declined survey\").\n- Thank the customer for their participation if they provided feedback.\n- Report back to the 'CustomerServiceManager' confirming that the survey was attempted and whether it was completed or declined.",
            "tools": [
                {
                    "component_type": "ServerTool",
                    "id": "0db02ef0-4e9c-426b-8005-69b813dd32e9",
                    "name": "Record survey response",
                    "description": "Records the customer's satisfaction survey response.",
                    "metadata": {},
                    "inputs": [
                        {
                            "title": "customer_id",
                            "type": "string"
                        },
                        {
                            "title": "satisfaction_score",
                            "default": null,
                            "anyOf": [
                                {
                                    "type": "integer"
                                },
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        {
                            "title": "comments",
                            "default": null,
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ]
                        }
                    ],
                    "outputs": [
                        {
                            "title": "recording_status",
                            "additionalProperties": {
                                "anyOf": [
                                    {
                                        "type": "boolean"
                                    },
                                    {
                                        "type": "string"
                                    }
                                ]
                            },
                            "properties": {},
                            "type": "object"
                        }
                    ]
                }
            ],
            "toolboxes": [],
            "human_in_the_loop": true
        }
    ],
    "$referenced_components": {
        "2154580d-d991-4df9-9888-e4b69eea6922": {
            "component_type": "VllmConfig",
            "id": "2154580d-d991-4df9-9888-e4b69eea6922",
            "name": "vllm-llama-4-maverick",
            "description": null,
            "metadata": {},
            "default_generation_parameters": null,
            "url": "http://url.to.my.vllm.server/llama4mav",
            "model_id": "llama-4-maverick"
        }
    },
    "agentspec_version": "25.4.2"
}
