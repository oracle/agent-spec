{
    "component_type": "Agent",
    "id": "ed7f2b03-acd3-45c5-ad7a-ef0720dc4322",
    "name": "Operation_Assistant_Agent",
    "description": "Agent equipped with tools to assist with operation incidents",
    "metadata": {},
    "inputs": [],
    "outputs": [],
    "llm_config": {
        "component_type": "OpenAiConfig",
        "id": "852fb3c7-8d19-471e-b9c7-d6233ee305ec",
        "name": "openai-llm",
        "description": null,
        "metadata": {},
        "default_generation_parameters": null,
        "model_id": "model-id"
    },
    "system_prompt": "You are an LLM-based operations assistant. You have four tools available:\nread_jira_ticket, read_runbook, get_alarm_status, read_logs\n\nDefault investigation flow (starting with a Jira ID)\n1) Retrieve ticket\n    - Call read_jira_ticket(jira_issue_id).\n    - If the ticket is \u201cnot found,\u201d ask the user to confirm the ID.\n\n2) Load runbook\n    - If \u201cSuggested runbook\u201d is present, call read_runbook(runbook_name).\n    - Extract key steps and validation criteria.\n\n3) Verify alarm status\n    - If alarm_id and region are known, call get_alarm_status(region, alarm_id).\n    - Record \u201cfiring\u201d vs \u201cnot firing\u201d as part of the state.\n\n4) Inspect logs\n    - Determine sensible parameters from the ticket, call read_logs with those fields.\n    - If logs return \u201cNo logs matched,\u201d consider adjusting the fields.\n    - Summarize key patterns, errors, and timestamps from logs.\n\n5) Form a hypothesis and recommended actions\n    - Synthesize alarm status, logs, runbook guidance, and notes from the ticket.\n    - Provide a clear, probable cause hypothesis with confidence qualifiers.\n    - Recommend next steps aligned to the runbook.\n\n6) Report results in a structured format\nUse this output template:\n- Incident: <jira_issue_id>\n- Summary: <one-liner from Jira or your concise rewrite>\n- Scope: Project=<project>, Fleet=<fleet>, Compartment=<compartment>, Region=<region>\n- Time window: <start_ts> to <end_ts> (from ticket or adjusted)\n- Alarm: <alarm_id> \u2014 Status: <firing|not firing|unknown>\n- Evidence:\n- Ticket highlights: <key notes, deployments, flags>\n- Logs (top 3-6 lines or patterns): <short bullets with timestamps and error types>\n- Runbook: <name> \u2014 Key steps considered: <bulleted list of most relevant steps>\n- Hypothesis: <probable cause and rationale>\n- Recommended actions: <ordered list; include rollback/failover/tuning/monitoring>\n- Validation: <what success looks like (e.g., P95 < threshold for X min)>\n- Open questions/next checks: <only if needed>\n- Artifacts: <any identifiers: deployment IDs, feature flags, trace IDs seen in logs>",
    "tools": [
        {
            "component_type": "ServerTool",
            "id": "705c249e-9f5f-4ff4-bdda-45b49bd07baf",
            "name": "read_jira_ticket",
            "description": "Return a plain-text summary of the Jira incident.",
            "metadata": {},
            "inputs": [
                {
                    "description": "The Jira issue key, e.g., \"INC-12345\"",
                    "title": "jira_issue_id",
                    "type": "string"
                }
            ],
            "outputs": [
                {
                    "description": "A human-readable incident summary including scope, runbook, and time window.",
                    "title": "incident_summary",
                    "type": "string"
                }
            ]
        },
        {
            "component_type": "ServerTool",
            "id": "0ae90660-49da-475f-9ed6-66ba72e1be04",
            "name": "read_logs",
            "description": "Return log lines for the given filters as a single plain string.",
            "metadata": {},
            "inputs": [
                {
                    "description": "Host or group selector (e.g., 'asg:payments-api-*', 'host:inventory-svc-3')",
                    "title": "from_machine",
                    "type": "string"
                },
                {
                    "description": "Owning project (e.g., 'payments', 'inventory')",
                    "title": "from_project",
                    "type": "string"
                },
                {
                    "description": "Service/fleet name",
                    "title": "from_fleet",
                    "type": "string"
                },
                {
                    "description": "Environment/compartment (e.g., 'prod')",
                    "title": "from_compartment",
                    "type": "string"
                },
                {
                    "description": "Cloud region",
                    "title": "from_region",
                    "type": "string"
                },
                {
                    "description": "Minimum log level (string)",
                    "title": "log_level",
                    "type": "string"
                },
                {
                    "description": "ISO8601 start timestamp",
                    "title": "start_ts",
                    "type": "string"
                },
                {
                    "description": "ISO8601 end timestamp",
                    "title": "end_ts",
                    "type": "string"
                }
            ],
            "outputs": [
                {
                    "description": "Concatenated log lines or a friendly 'no logs' message.",
                    "title": "log_lines",
                    "type": "string"
                }
            ]
        },
        {
            "component_type": "ServerTool",
            "id": "a59e34cd-a6cf-4cfe-9ace-11991475fbfc",
            "name": "read_runbook",
            "description": "Return the markdown content of a runbook by name.",
            "metadata": {},
            "inputs": [
                {
                    "description": "The canonical runbook name.",
                    "title": "runbook_name",
                    "type": "string"
                }
            ],
            "outputs": [
                {
                    "description": "Markdown content of the runbook.",
                    "title": "runbook_markdown",
                    "type": "string"
                }
            ]
        },
        {
            "component_type": "ServerTool",
            "id": "7ec1c805-cde2-42ed-a4f0-bc1b4f42fd29",
            "name": "get_alarm_status",
            "description": "Return the current status of an alarm: 'firing' or 'not firing'.",
            "metadata": {},
            "inputs": [
                {
                    "description": "Cloud region (e.g., 'us-west-1', 'eu-frankfurt-1')",
                    "title": "region",
                    "type": "string"
                },
                {
                    "description": "Alarm identifier (e.g., 'cw:payments-latency-high')",
                    "title": "alarm_id",
                    "type": "string"
                }
            ],
            "outputs": [
                {
                    "description": "'firing' or 'not firing'",
                    "title": "alarm_status",
                    "type": "string"
                }
            ]
        }
    ],
    "agentspec_version": "25.4.1"
}
